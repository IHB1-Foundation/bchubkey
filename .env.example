# BCHubKey Environment Configuration

# ============================================
# REQUIRED
# ============================================

# Telegram Bot Token from @BotFather
TELEGRAM_BOT_TOKEN=

# Database URL (Postgres)
# Local (docker-compose.yml): postgresql://bchubkey:bchubkey@localhost:5432/bchubkey
DATABASE_URL=postgresql://bchubkey:bchubkey@localhost:5432/bchubkey

# Bot public username (for deep link generation)
BOT_PUBLIC_NAME=

# ============================================
# VERIFICATION DEFAULTS
# ============================================

# Micro-tx amount range (satoshis)
DEFAULT_VERIFY_MIN_SAT=2000
DEFAULT_VERIFY_MAX_SAT=2999

# Verification session TTL (minutes)
DEFAULT_VERIFY_EXPIRE_MIN=10

# ============================================
# CHAIN INTEGRATION
# ============================================

# Chain provider (FULCRUM)
CHAIN_PROVIDER=FULCRUM

# Fulcrum server URL (WebSocket or TCP)
FULCRUM_URL=wss://bch.imaginary.cash:50004

# ============================================
# TOKEN METADATA (OPTIONAL)
# ============================================

# Token metadata provider (PAYTACA_BCMR or NONE)
# Set to PAYTACA_BCMR to enable token name/symbol/decimals lookup during setup
TOKEN_METADATA_PROVIDER=PAYTACA_BCMR

# Paytaca BCMR base URL
PAYTACA_BCMR_BASE_URL=https://bcmr.paytaca.com/api

# Metadata fetch timeout in milliseconds
METADATA_TIMEOUT_MS=5000

# Max retries for metadata fetch
METADATA_MAX_RETRIES=2

# ============================================
# OPERATIONS
# ============================================

# Log level (trace, debug, info, warn, error, fatal)
LOG_LEVEL=info

# Polling interval for micro-tx detection (seconds)
POLL_INTERVAL_SEC=15

# ============================================
# DEMO MODE (Optional - for hackathon demo)
# ============================================
# Uncomment these lines for faster demo cycle

# Default recheck interval (seconds) - default: 300 (5 min)
# For demo: 60 (1 min)
#DEFAULT_RECHECK_INTERVAL_SEC=60

# Default grace period (seconds) - default: 300 (5 min)
# For demo: 0 (immediate) or 60 (1 min)
#DEFAULT_GRACE_PERIOD_SEC=0

# Verification session TTL (minutes) - default: 10
# For demo: 5
#DEFAULT_VERIFY_EXPIRE_MIN=5

# ============================================
# ADMIN DASHBOARD (OPTIONAL)
# ============================================

# Admin dashboard HTTP port (leave empty to disable)
# Set to e.g. 3000 to enable read-only web dashboard
#ADMIN_PORT=3000

# CORS origin for Vercel-hosted admin frontend (leave empty to disable CORS)
#ADMIN_CORS_ORIGIN=https://bchubkey.vercel.app

# ============================================
# ADMIN AUTH (OPTIONAL - M11)
# ============================================

# Enable admin authentication (set to true to enforce JWT auth on API)
#ADMIN_AUTH_ENABLED=true

# JWT signing secret (required when ADMIN_AUTH_ENABLED=true, min 32 chars)
#ADMIN_JWT_SECRET=change-me-to-a-random-string-at-least-32-chars

# Session TTL in seconds (default: 86400 = 24h)
#ADMIN_SESSION_TTL_SEC=86400
